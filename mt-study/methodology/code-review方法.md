代码检查项
 

 

数据库相关



事务：尽可能不使用事务，如果使用了事务，请关注事务是否及时提交

SQL性能： 关注SQL性能

MyBatis： 使用$符号的注入问题

是否过多使用了DB查询，应该使用缓存没有使用缓存

第三方依赖

使用第三方服务时，例如tair、rabbitmq等，进行容量预估，超时设置是否合理

同步异步

可异步处理的尽量异步处理，避免阻塞主流程

锁机制

是否在并发情况下考虑到锁机制，对临界区的操作是否合理

锁是否加对了，读锁写锁、锁的范围

循环问题



注意循环子，是否在循环体中改动了循环子

是否存在死循环，关注循环的退出条件

异常处理 



Try Cache机制是否合理，是否吞掉了应抛出的异常，或者应该处理的异常没有处理

是否有除0操作，是否有mod 0操作

数据加载

 

 

数据库读写标志是否正确

小心脏数据导致程序崩溃

数据定义



是否使用的魔法数字（容器的大小、if条件）

double失精度问题

是否校验了空指针，指针是否初始化

Log

 log的打印方式是否合理

Log级别

Log打印量

小心Log中引用的对象为Null

代码风格

代码的注释是否合理，注释是否有意义

 注释是否多余，清晰，合理

变量，函数命名是否能表达含义

 

代码检查实施方案推荐：
 执行形式

 1）RD Merge代码到Dev分支时发起Review

 2）建议一次Review的代码300-400行，所以也可以采取随时Review的形式，一个同学直接给另外一个同学面对面介绍代码进行Review

强制Review，至少找1个同学Review

Review的同学要承担连带责任

Review问题的沉淀

 每周沉淀一次Review出的问题

目的： 新同学犯的错误都是类似的，这些可以沉淀到规范里面去
